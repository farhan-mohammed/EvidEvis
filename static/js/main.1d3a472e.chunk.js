(this.webpackJsonpevidevis=this.webpackJsonpevidevis||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/map.ca0086a0.png"},36:function(e,t,a){e.exports=a(66)},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(32),c=a.n(r),i=a(15),l=a(12),o=a(2),d=a(3),u=a(6),m=a(4),h=a(5),p=a(21),f=a(16),v=a(18),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState()}},{key:"draw",value:function(e,t){e.beginPath(),e.arc(this.props.x,this.props.y,15,0,2*Math.PI,!1),e.textAlign="center",e.fillStyle="#34495e",e.fillText(this.props.name,this.props.x,this.props.y+30),e.fill(),e.lineWidth=4,e.strokeStyle="black",e.stroke()}},{key:"checkPressed",value:function(e,t){var a=this.props.x,n=this.props.y;if(console.log(a,e,n,t,Math.sqrt(Math.pow(a-e,2)+Math.pow(n-t,2))),console.log(Math.sqrt(Math.pow(a-e,2)+Math.pow(n-t,2)<=1600)),Math.sqrt(Math.pow(a-e,2)+Math.pow(n-t,2)<=1600))return this.props.name}}]),t}(s.a.Component),E=a(10),g=a.n(E),x=a(33),y=a.n(x).a.create({baseURL:"https://farsql.herokuapp.com"}),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).searchTime=function(e){var t;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(y.get("/events?id=".concat(e.toString())));case 2:t=n.sent,a.setState({resp:t.data[0]}),console.log("I am the api call!!"),console.log(a.state.resp),a.refs.info.classList.remove("hidden"),a.state.text1=a.state.resp.event,a.state.text2=a.state.resp["device-id"],a.state.text3=a.state.resp["guest-id"]||"",a.state.text4=a.epochcon(a.state.resp.id),a.forceUpdate();case 13:case"end":return n.stop()}}))},a.renderList=function(){return a.props.dataResponse.map((function(e){return s.a.createElement("p",{className:"box btn-light fn-2 table-snippet"},s.a.createElement("a",{href:"#",onClick:function(){a.searchTime(e.id)}},a.epochcon(e.id)))}))},a.state={resp:{}},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"epochcon",value:function(e){var t=new Date(0);t.setUTCSeconds(e);var a=t.getHours(),n=""+t.getMinutes(),s=t.getSeconds(),r=t.getDate()+1;return[t.getMonth()+1,r].join("/")+" "+[a,n,s].join(":")}},{key:"render",value:function(){var e=this;return 0===Object.getOwnPropertyNames(this.props.dataResponse).length?s.a.createElement("div",null):(console.log(" i am rendering list now"),console.log(this.props.dataResponse),s.a.createElement("span",null,s.a.createElement("div",{className:"box btn-dark"},"Events"),s.a.createElement("div",{className:"table-container table-snippet-container"},this.renderList()),s.a.createElement("ul",{className:"table-container btn-dark mid2 hidden",onClick:function(){e.refs.info.classList.add("hidden")},ref:"info"},s.a.createElement("li",{className:"box btn-dark table-head"},"Name of location"),s.a.createElement("li",{className:"box btn-light"},this.state.text1," @ ",this.state.text2),s.a.createElement("li",{className:"box btn-light"},this.state.text3," ",this.state.text4))))}}]),t}(s.a.Component),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).renderElements=function(e){return a.props.elements.map((function(e){return s.a.createElement("li",{class:"box btn-light table-entry",key:e,onClick:function(){["Veronica","Thomas","Jason","Rob","Kristina","Marc-Andre","Dave","Salina","Harrison"].includes(e)?(console.log("test"),a.searchCharacter(e)):a.searchDeviceID(e)}},e)}))},a.searchDeviceID=function(e){var t;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(y.get("/events?device-id=".concat(e.toString())));case 2:t=n.sent,a.setState({resp:t.data});case 4:case"end":return n.stop()}}))},a.searchCharacter=function(e){var t;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(y.get("/events?guest-id=".concat(e.toString())));case 2:t=n.sent,a.setState({resp:t.data});case 4:case"end":return n.stop()}}))},a.searchTime=function(e){var t;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(y.get("/events?id=".concat(e.toString())));case 2:t=n.sent,a.setState({resp:t.data});case 4:case"end":return n.stop()}}))},a.state={resp:{}},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return console.log(this.props),s.a.createElement("span",null,s.a.createElement("ul",{className:"table-container"},s.a.createElement("li",{className:"box btn-dark table-head"},"Locations"),this.renderElements()),s.a.createElement(k,{dataResponse:this.state.resp}))}}]),t}(s.a.Component),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).update=function(e,t){a.state.points;var n=a.refs.canvas.getBoundingClientRect();e-=n.left,t-=n.top;var s=void 0,r=!0,c=!1,i=void 0;try{for(var l,o=a.state.points[Symbol.iterator]();!(r=(l=o.next()).done);r=!0){if(void 0!==(s=l.value.checkPressed(e,t)))break}}catch(u){c=!0,i=u}finally{try{r||null==o.return||o.return()}finally{if(c)throw i}}var d=a.refs.nametaker;void 0!==s?alert("Selected "+s):(d.classList.remove("hidden"),a.state.savedx=e,a.state.savedy=t)},a.submitname=function(){var e=a.state.points,t=a.refs.name,n=new b({name:t.value,x:a.state.savedx,y:a.state.savedy}),s=a.state.elements;s.push(t.value),t.value="",e.push(n),a.setState({points:e}),a.setState({elements:s}),a.refs.nametaker.classList.add("hidden"),a.updateCanvas()},a.updateCanvas=function(){var e=a.refs.canvas,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height);var n=!0,s=!1,r=void 0;try{for(var c,i=a.state.points[Symbol.iterator]();!(n=(c=i.next()).done);n=!0){c.value.draw(t,e)}}catch(l){s=!0,r=l}finally{try{n||null==i.return||i.return()}finally{if(s)throw r}}},a.state={points:[],pic:void 0,elements:[]},a.handleBackgroundChange=a.handleBackgroundChange.bind(Object(f.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"handleBackgroundChange",value:function(e){new FileReader,e.target.files[0];var t=this.refs.bgcanvas.getContext("2d"),a=this.refs.map,n=this.refs.table1,s=this.refs.timeline;a.classList.add("hidden"),n.classList.remove("hidden"),s.classList.remove("hidden");var r=new Image;r.onload=function(){t.drawImage(r,20,20)},r.src=URL.createObjectURL(e.target.files[0])}},{key:"componentDidMount",value:function(){this.refs.canvas.getContext("2d"),this.refs.image}},{key:"render",value:function(){var e=this,t={width:"800px",height:"700px"};return s.a.createElement("div",{className:"stretch"},s.a.createElement("div",{className:"table-container btn-dark mid",ref:"map"},s.a.createElement("p",{class:"box btn-dark table-head"},"Submit a picture"),s.a.createElement("div",{class:"flex-container"},s.a.createElement("div",{class:"pf"}),s.a.createElement("div",{class:"flex-item box btn-light table-entry fileupload",id:"upload"},s.a.createElement("input",{onChange:this.handleBackgroundChange,type:"file",title:" ",accept:"image/*"}),"Upload picture here"),s.a.createElement("div",{class:"pf"}))),s.a.createElement("ul",{className:"table-container btn-dark mid2 hidden",ref:"nametaker"},s.a.createElement("li",{className:"box btn-dark table-head nmu",onClick:function(){e.refs.nametaker.classList.add("hidden")}},"Name of location"),s.a.createElement("li",{className:"box btn-dark nmu"},s.a.createElement("input",{className:"box btn-light flex-item",tabletype:"text",ref:"name"})),s.a.createElement("li",{className:"box btn-dark"},s.a.createElement("a",{className:"fn-light",href:"#",onClick:function(){e.submitname()}},"Submit"))),s.a.createElement("div",{style:Object(p.a)({position:"relative"},t),className:"stretch flex-container"},s.a.createElement("canvas",{ref:"bgcanvas",height:"700px",width:"800px",className:"cnvs flex-item",disabled:!this.state.myTurn,style:Object(p.a)({},t)}),s.a.createElement("canvas",{ref:"canvas",height:"700px",width:"800px",className:"cnvs flex-item",style:t,onClick:function(t){e.update(t.clientX,t.clientY)}}),s.a.createElement("img",{ref:"image",style:t,position:"absolute",src:v.map,className:"hidden tt",id:"im"})),s.a.createElement("div",{id:"tb-right",className:"hidden",ref:"table1"},s.a.createElement(j,{elements:this.state.elements,className:"mleft",ref:"table2"})),s.a.createElement("canvas",{ref:"timeline",id:"timeline",className:"",display:"none",onClick:function(t){e.update(t.clientX,t.clientY)}}))}}]),t}(s.a.Component),w=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{width:"100%"}},s.a.createElement(O,{ref:"myCanvas"}))}}]),t}(n.Component),N=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"header-title header-titlein"},"Evid",s.a.createElement("span",{className:"header-title_"},"Evis")))}}]),t}(n.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"View")}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).renderProfileButton=function(){if(0===!a.state.numSavedProfiles)return s.a.createElement(i.b,{to:"/savedprofiles"},s.a.createElement("div",{className:"welSelector__View welSelector_Button"},"View Saved Profiles"))},a.state={numSavedProfiles:0},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",{className:"wel"},s.a.createElement("h1",null,"Welcome to"," ",s.a.createElement("span",{className:"header-title"},"Evid",s.a.createElement("span",{className:"header-title_"},"Evis")),"!"),s.a.createElement("div",{className:"welSelector"},s.a.createElement(i.b,{to:"/EvidEvis/setup"},s.a.createElement("div",{className:"welSelector__Setup welSelector_Button"},"Create a setup")),this.renderProfileButton()))}}]),t}(n.Component),M=function(){return s.a.createElement("div",{className:"container"},s.a.createElement(N,null),s.a.createElement("div",{className:"container-body"},s.a.createElement(i.a,null,s.a.createElement(l.a,{path:"/EvidEvis/",exact:!0,component:S}),s.a.createElement(l.a,{path:"/EvidEvis/setup",exact:!0,component:w}),s.a.createElement(l.a,{path:"/EvidEvis/analyzer",exact:!0,component:C}))))};a(65);c.a.render(s.a.createElement(M,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.1d3a472e.chunk.js.map